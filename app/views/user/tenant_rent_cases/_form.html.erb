<%= f.error_notification %>

<%= f.simple_fields_for :apartment, @apartment do |a| %>
  <%= a.input :discription, label: "公寓介紹" %>
  <%= a.simple_fields_for(:address, @address) do |address| %>
    <%= address.input :city_id, collection: @cities, prompt: "請選擇縣市", input_html: {class: "apartment_address_attributes_city"} %>
    <%= address.input :district_id, collection: [], prompt: "請選擇區域", input_html: {class: "apartment_address_attributes_district"} %>
    <%= address.input :street, label: "街道" %>
  <% end %>
<% end %>

<%= f.simple_fields_for :group, @group do |g| %>
  <%= g.input :name, label: "Group 名稱" %>
  <%= g.input :group_size, label: "分租人數" %>
  <%= g.hidden_field :organizer_id, value: current_user.id %>
<% end %>
  
<div class="form-inputs">
  <%= f.input :price, label: "價格($新台幣/月)" %>
</div>

<div class="form-actions">
  <%= f.button :submit, "張貼" %>
</div>
<%= render "user/apartments/address_initializer" %>